<div class="filter-form">
    <nz-form-item *ngIf="enabled.get('Type')">
        <nz-form-label>
            Type
        </nz-form-label>
        <div class="filter-form__selection-wrapper">
            <nz-form-control class="filter-form__control">
                <nz-select [nzMaxTagCount]="maxTagCount" nzMode="multiple" nzPlaceHolder="Select types" class="filter-form__selection-picker"
                    [(ngModel)]="values.selectedTypes" name="type">
                    <nz-option *ngFor="let item of typeList" [nzLabel]="item" [nzValue]="item"></nz-option>
                </nz-select>
            </nz-form-control>
            <span nz-tooltip nzTooltipTitle="Remove filter">
                <button [nzSize]="'small'" nz-button nzShape="circle" class="filter-form__minus-button"
                    (click)="disableSelector('Type')"><i aria-hidden="true" nz-icon nzType="minus" nzTheme="outline"></i></button>
            </span>
        </div>
    </nz-form-item>

    <nz-form-item *ngIf="enabled.get('Technology')">
        <nz-form-label>
            Technology
        </nz-form-label>
        <div class="filter-form__selection-wrapper">
            <nz-form-control class="filter-form__control">
                <nz-select [nzMaxTagCount]="maxTagCount" nzMode="multiple" nzPlaceHolder="Select technologies" class="filter-form__selection-picker"
                    [(ngModel)]="values.selectedTechnologies" name="technology">
                    <nz-option *ngFor="let item of technologyList" [nzLabel]="item" [nzValue]="item"></nz-option>
                </nz-select>
            </nz-form-control>
            <span nz-tooltip nzTooltipTitle="Remove filter">
                <button [nzSize]="'small'" nz-button nzShape="circle" class="filter-form__minus-button"
                    (click)="disableSelector('Technology')"><i aria-hidden="true" nz-icon nzType="minus" nzTheme="outline"></i></button>
            </span>
        </div>
    </nz-form-item>

    <nz-form-item *ngIf="enabled.get('Name')">
        <nz-form-label>
            Name
        </nz-form-label>
        <div class="filter-form__selection-wrapper">
            <nz-form-control class="filter-form__control">
                <nz-select [nzMaxTagCount]="maxTagCount" nzMode="multiple" nzPlaceHolder="Select names" class="filter-form__selection-picker"
                    [(ngModel)]="values.selectedNames" name="name">
                    <nz-option *ngFor="let item of nameList" [nzLabel]="item" [nzValue]="item"></nz-option>
                </nz-select>
            </nz-form-control>
            <span nz-tooltip nzTooltipTitle="Remove filter">
                <button [nzSize]="'small'" nz-button nzShape="circle" class="filter-form__minus-button"
                    (click)="disableSelector('Name')"><i aria-hidden="true" nz-icon nzType="minus" nzTheme="outline"></i></button>
            </span>
        </div>
    </nz-form-item>

    <nz-form-item *ngIf="enabled.get('Taxonomy')">
        <nz-form-label>
            Taxonomy
        </nz-form-label>
        <div class="filter-form__selection-wrapper">
            <nz-form-control class="filter-form__control">
                <app-taxonomy-filter [useMetricsFilterService]="false" (taxonomyId)="handleTaxonomyId($event)" class="filter-form__selection-picker">
                </app-taxonomy-filter>
            </nz-form-control>
            <span nz-tooltip nzTooltipTitle="Remove filter">
                <button [nzSize]="'small'" nz-button nzShape="circle" class="filter-form__minus-button"
                    (click)="disableSelector('Taxonomy')"><i aria-hidden="true" nz-icon nzType="minus" nzTheme="outline"></i></button>
            </span>
        </div>
    </nz-form-item>

    <span *ngIf="buttonEnabled" nz-tooltip nzTooltipTitle="Add filter" class="centered">
        <button nz-button nz-dropdown nzTrigger="click" [nzDropdownMenu]="menu"><i aria-hidden="true" nz-icon nzType="plus"
                nzTheme="outline"></i></button>
    </span>
    <nz-dropdown-menu #menu="nzDropdownMenu">
        <ul nz-menu>
            <ng-container *ngFor="let item of enabled | keyvalue">
                <li *ngIf=" ! item.value" (click)="addFilter(item.key)" nz-menu-item>
                    {{item.key}}
                </li>
            </ng-container>
        </ul>
    </nz-dropdown-menu>
</div>
