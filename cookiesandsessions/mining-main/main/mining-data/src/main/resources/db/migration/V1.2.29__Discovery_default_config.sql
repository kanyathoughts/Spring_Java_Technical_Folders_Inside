-- Discovery SearchOrder (earlier StepLib)

CREATE CLASS SearchOrder EXTENDS V;
CREATE PROPERTY SearchOrder.sourcePattern STRING (NOTNULL, MANDATORY TRUE);
CREATE PROPERTY SearchOrder.targetPatterns EMBEDDEDLIST STRING;
ALTER CLASS SearchOrder STRICTMODE TRUE;

-- Discovery default configuration.

CREATE PROPERTY Project.configurations EMBEDDEDMAP STRING;
CREATE PROPERTY Project.searchOrders EMBEDDEDLIST SearchOrder;

-- Update existing property with the default configurations.
ALTER PROPERTY Project.configurations DEFAULT "{\"Discovery_Config.xml\" : \"<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?><config><mappings><mapping pattern=\"**/*\" type=\"COBOL/PROGRAM\" folder=\"programs\"/><mapping pattern=\"**/*\" type=\"COBOL/COPYBOOK\" folder=\"copies\"/><mapping pattern=\"**/*\" type=\"COBOL/BMS_MAPSET\" folder=\"maps\"/><mapping pattern=\"**/*\" type=\"COBOL/MFS\" folder=\"maps\"/><mapping pattern=\"**/*\" type=\"JCL/JOB\" folder=\"jobs\"/><mapping pattern=\"**/*\" type=\"JCL/PROC\" folder=\"procs\"/><mapping pattern=\"**/*\" type=\"JCL/CONTROLCARD\" folder=\"controlcards\"/><mapping pattern=\"**/*\" type=\"JCL/INCLUDE\" folder=\"procs\"/><mapping pattern=\"**/*\" type=\"ASSEMBLER\" folder=\"\"/><mapping pattern=\"**/*\" type=\"XML\" folder=\"\"/><mapping pattern=\"**/*\" type=\"PL1/MAINPROGRAM\" folder=\"programs\"/><mapping pattern=\"**/*\" type=\"PL1/PROGRAM\" folder=\"programs\"/><mapping pattern=\"**/*\" type=\"PL1/COPYBOOK\" folder=\"copies\"/><mapping pattern=\"**/*\" type=\"NATURAL/PROGRAM\" folder=\"programs\"/><mapping pattern=\"**/*\" type=\"NATURAL/SUBPROGRAM\" folder=\"subprograms\"/><mapping pattern=\"**/*\" type=\"NATURAL/SUBROUTINE\" folder=\"subroutines\"/><mapping pattern=\"**/*\" type=\"NATURAL/FUNCTION\" folder=\"functions\"/><mapping pattern=\"**/*\" type=\"NATURAL/COPYCODE\" folder=\"copies\"/><mapping pattern=\"**/*\" type=\"NATURAL/DDM\" folder=\"ddms\"/><mapping pattern=\"**/*\" type=\"NATURAL/HELP\" folder=\"helproutines\"/><mapping pattern=\"**/*\" type=\"NATURAL/LDA\" folder=\"ldas\"/><mapping pattern=\"**/*\" type=\"NATURAL/IW_LDA\" folder=\"ldas\"/><mapping pattern=\"**/*\" type=\"NATURAL/PDA\" folder=\"pdas\"/><mapping pattern=\"**/*\" type=\"NATURAL/IW_PDA\" folder=\"pdas\"/><mapping pattern=\"**/*\" type=\"NATURAL/GDA\" folder=\"gdas\"/><mapping pattern=\"**/*\" type=\"NATURAL/IW_GDA\" folder=\"gdas\"/><mapping pattern=\"**/*\" type=\"NATURAL/MAP\" folder=\"maps\"/><mapping pattern=\"**/*\" type=\"NATURAL/TEXT\" folder=\"texts\"/><mapping pattern=\"**/*\" type=\"NATURAL/ERROR_MESSAGE\" folder=\"messages\"/><mapping pattern=\"**/*\" type=\"NATURAL/CLASS\" folder=\"classes\"/><mapping pattern=\"**/*\" type=\"NATURAL/CPM\" folder=\"cpms\"/><mapping pattern=\"**/*\" type=\"NATURAL/ADAPTER\" folder=\"adapters\"/><mapping pattern=\"**/*\" type=\"NATURAL/ADAPTVIEW\" folder=\"adapters\"/><mapping pattern=\"**/*\" type=\"NATURAL/DIALOG\" folder=\"dialogs\"/><mapping pattern=\"**/*\" type=\"NATURAL/DIALOG_PRIV_RES\" folder=\"dialogs\"/><mapping pattern=\"**/*\" type=\"BINARY\" folder=\"\"/><mapping pattern=\"**/*\" type=\"EASYTRIEVE/PROGRAM\" folder=\"\"/><mapping pattern=\"**/*\" type=\"EASYTRIEVE/MACRO_FILE\" folder=\"\"/><mapping pattern=\"**/*\" type=\"C/PROGRAM\" folder=\"\"/><mapping pattern=\"**/*\" type=\"C/HEADER\" folder=\"\"/><mapping pattern=\"**/*\" type=\"CSD/LIST\" folder=\"\"/><mapping pattern=\"**/*\" type=\"CSD/EXTRACT\" folder=\"\"/><mapping pattern=\"**/*\" type=\"IMS/ARCHDEF\" folder=\"archdef\"/><mapping pattern=\"**/*\" type=\"IMS/DBD\" folder=\"dbd\"/><mapping pattern=\"**/*\" type=\"IMS/HELPTXT\" folder=\"help\"/><mapping pattern=\"**/*\" type=\"IMS/HDAMPARM\" folder=\"dbdh\"/><mapping pattern=\"**/*\" type=\"IMS/PSB\" folder=\"psb\"/><mapping pattern=\"**/*\" type=\"SCRIPT/TDFXTRCT\" folder=\"casegen\"/><mapping pattern=\"**/*\" type=\"DCL\" folder=\"dcl\"/><mapping pattern=\"**/*\" type=\"FMS/FORM\" folder=\"fms\"/><mapping pattern=\"**/*\" type=\"IFDL/FORM\" folder=\"ifdl\"/><mapping pattern=\"**/*\" type=\"CDO/FILE\" folder=\"cdo\"/><mapping pattern=\"**/*\" type=\"SQLMOD\" folder=\"sqlmod\"/><mapping pattern=\"**/*\" type=\"BASIC/OBJECT\" folder=\"\"/><mapping pattern=\"**/*\" type=\"SQL/SCRIPT\" folder=\"sql\"/><mapping pattern=\"**/*\" type=\"VAX/MACRO\" folder=\"mar\"/><mapping pattern=\"**/*\" type=\"NONE\" folder=\"\"/></mappings><properties><property language=\"ASSEMBLER\"><setting key=\"UNKNOWN_TOKEN_THRESHOLD\" value=\"0.2\"/></property><property language=\"BASIC\"><setting key=\"RETAIN_FILE_EXTENSION\" value=\"true\"/><setting key=\"PARSER_TIMEOUT\" value=\"30\"/></property><property language=\"BINARY\"><setting key=\"PRINTABLE_CHAR_THRESHOLD\" value=\"0.85\"/></property><property language=\"COBOL\"><setting key=\"PARSER_TIMEOUT\" value=\"30\"/><setting key=\"COPYBOOK_PIC_THRESHOLD\" value=\"0.10\"/></property><property language=\"CSD\"><setting key=\"PARSER_TIMEOUT\" value=\"2000\"/><setting key=\"CSD_PARSER_DUMPXML\" value=\"true\"/></property><property language=\"EASYTRIEVE\"><setting key=\"PARSER_TIMEOUT\" value=\"30\"/></property><property language=\"C\"><setting key=\"PARSER_TIMEOUT\" value=\"30\"/></property><property language=\"JCL\"><setting key=\"PARSER_TIMEOUT\" value=\"30\"/><setting key=\"STEP_NAME\" value=\"SYSIN\"/><setting key=\"STEP_NAME\" value=\"INPUT\"/><setting key=\"DD_KEYWORD\" value=\"*\"/><setting key=\"DD_KEYWORD\" value=\"PATH\"/><setting key=\"DD_KEYWORD\" value=\"SUBSYS\"/></property><property language=\"NATURAL\"><setting key=\"PARSER_TIMEOUT\" value=\"30\"/></property><property language=\"ORACLE\"><setting key=\"CDO_PATTERN_THRESHOLD\" value=\"0.10\"/><setting key=\"SQLMOD_PATTERN_THRESHOLD\" value=\"0.05\"/></property><property language=\"PL1\"><setting key=\"PARSER_TIMEOUT\" value=\"30\"/></property><property language=\"VMS\"><setting key=\"FMS_PATTERN_THRESHOLD\" value=\"0.05\"/><setting key=\"DCL_PATTERN_THRESHOLD\" value=\"0.2\"/></property></properties><file_detection_types><file_detection_type type=\"MAIN\" priority=\"1\"></file_detection_type><file_detection_type type=\"TOKEN\" priority=\"2\"></file_detection_type><file_detection_type type=\"DEPENDENCY\" priority=\"3\"></file_detection_type><file_detection_type type=\"EXTENSION\" priority=\"4\"></file_detection_type></file_detection_types><retain_dir_structure>true</retain_dir_structure><exclude_utility>true</exclude_utility><collect_br_candidates>false</collect_br_candidates><undiscovered_folder>undiscovered-entities</undiscovered_folder><output_format>EXCEL</output_format></config>\",\"DNA_CobolObjectSequencer_Config.xml\" : \"<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?><properties><property key=\"filterEmptyDNA\" value=\"true\" title=\"Filter Empty DNA\"><comment>Set to true to avoid empty DNA strings. Highly recommended.</comment></property><property key=\"minDNALength\" value=\"20\" title=\"Minimum DNA Length\"><comment>The minimum string length of the extracted dna to be valid for further processing.</comment></property></properties>\",\"DNA_LouvainRunner_Config.xml\" : \"<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?><properties><property key=\"maxLevels\" value=\"5\" title=\"Maximum Levels\"><comment>Define the number of graph versions. Each version optimize modularity by the number of iterations and verify the improvement.</comment></property><property key=\"maxIterations\" value=\"10\" title=\"Maximum Iterations\"><comment>Define the number to modularity optimization iterations. See: https://en.wikipedia.org/wiki/Louvain_modularity</comment></property><property key=\"defaultTolerance\" value=\"0.0001\" title=\"Default Tolerance\"><comment>The minimum of Q-improvement required to take the current graph as improvement of the level. Q is the graph modularity. See https://en.wikipedia.org/wiki/Modularity_(networks)</comment></property></properties>\",\"DNA_SimilarityProcessor_Config.xml\" : \"<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?><properties><property key=\"similarity threshold\" value=\"0.85\" title=\"Similarity Threshold\"><comment>Define the minimum similarity for the dna to be processed by the community detection. Range 0.0-1.0</comment></property></properties>\"}";